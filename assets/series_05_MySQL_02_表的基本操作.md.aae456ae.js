import{_ as s,c as a,o as n,a as l}from"./app.72bf9abe.js";const A=JSON.parse('{"title":"表的基本操作","description":"","frontmatter":{},"headers":[],"relativePath":"series/05_MySQL/02_表的基本操作.md","lastUpdated":1671517796000}'),e={name:"series/05_MySQL/02_表的基本操作.md"},p=l(`<h1 id="表的基本操作" tabindex="-1">表的基本操作 <a class="header-anchor" href="#表的基本操作" aria-hidden="true">#</a></h1><p>数据库建好之后，我们就可以接着创建真正存储数据的表了。创建表的时候首先需要描述清楚这个表长什么样，它有哪些列，这些列都是用来存什么类型的数据等等。</p><ul><li>这个对表的描述称为表的<strong>结构</strong>或者<strong>定义</strong>。</li><li>有了表的结构之后，我们就可以着手把数据塞到这个表里了。</li><li>表中的一行叫做一条<strong>记录</strong>，一列叫做一个<strong>字段</strong>。</li></ul><h2 id="展示数据表" tabindex="-1">展示数据表 <a class="header-anchor" href="#展示数据表" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">show tables</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="创建表" tabindex="-1">创建表 <a class="header-anchor" href="#创建表" aria-hidden="true">#</a></h2><p>创建一个表需要完成下列步骤</p><ul><li>给表起名</li><li>给表定义列</li><li>给列数据定义数据类型</li><li>有需要时，需要设置默认值</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">CREATE TABLE 表名 </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    列名1    数据类型    </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">列的属性</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    列名2    数据类型    </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">列的属性</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    列名n    数据类型    </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">列的属性</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>示例：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> create table uses </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> name varchar</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">100</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">, age int</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><h2 id="添加注释" tabindex="-1">添加注释 <a class="header-anchor" href="#添加注释" aria-hidden="true">#</a></h2><p>使用 <code>comment</code> 字段</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">CREATE TABLE 表名 </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    各个列的信息 ...</span></span>
<span class="line"><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> COMMENT </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">表的注释信息</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="if-not-exists" tabindex="-1">IF NOT EXISTS <a class="header-anchor" href="#if-not-exists" aria-hidden="true">#</a></h2><p>创建已经存在的表会出现错误提示，使用 IF NOT EXISTS 如果指定的表名不存在则创建这个表，如果存在那就什么都不做</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">CREATE TABLE IF NOT EXISTS 表名</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    各个列的信息 ...</span></span>
<span class="line"><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><h2 id="删除表" tabindex="-1">删除表 <a class="header-anchor" href="#删除表" aria-hidden="true">#</a></h2><p>慎用啊😂</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">DROP TABLE 表1, 表2, ..., 表n</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="if-exists" tabindex="-1">IF EXISTS <a class="header-anchor" href="#if-exists" aria-hidden="true">#</a></h2><p>如果删除不存在的表会报错</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">DROP TABLE IF EXISTS 表名</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="查看表结构" tabindex="-1">查看表结构 <a class="header-anchor" href="#查看表结构" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">DESCRIBE 表名</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">DESC 表名</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">EXPLAIN 表名</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">SHOW COLUMNS FROM 表名</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">SHOW FIELDS FROM 表名</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="没有选择数据库对表操作" tabindex="-1">没有选择数据库对表操作 <a class="header-anchor" href="#没有选择数据库对表操作" aria-hidden="true">#</a></h2><p>有时并没有使用 <code>use</code> 数据库而想对表进行操作</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">数据库.表名</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">SHOW CREATE TABLE xiaohaizi.first_table</span></span>
<span class="line"></span></code></pre></div><h2 id="修改表" tabindex="-1">修改表 <a class="header-anchor" href="#修改表" aria-hidden="true">#</a></h2><p>已创建表后，再次对表进行操作</p><h3 id="修改表名" tabindex="-1">修改表名 <a class="header-anchor" href="#修改表名" aria-hidden="true">#</a></h3><ul><li>方式一</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ALTER TABLE 旧表名 RENAME TO 新表名</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><ul><li>方式二</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">RENAME TABLE 旧表名1 TO 新表名1, 旧表名2 TO 新表名2, ... 旧表名n TO 新表名n</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>这个可以同时操作多表 如果在操作表时，同时指定数据库，则会同时移动到指定的数据库中</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ALTER TABLE first_table1 RENAME TO dahaizi.first_table1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">RENAME TABLE dahaizi.first_table1 TO xiaohaizi.first_table</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="增加列" tabindex="-1">增加列 <a class="header-anchor" href="#增加列" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ALTER TABLE 表名 ADD COLUMN 列名 数据类型 </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">列的属性</span><span style="color:#89DDFF;">];</span></span>
<span class="line"></span></code></pre></div><p>也可以增加列到特定的位置</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 添加到首列</span></span>
<span class="line"><span style="color:#A6ACCD;">ALTER TABLE 表名 ADD COLUMN 列名 列的类型 </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">列的属性</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> FIRST</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 添加到指定列的后面</span></span>
<span class="line"><span style="color:#A6ACCD;">ALTER TABLE 表名 ADD COLUMN 列名 列的类型 </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">列的属性</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> AFTER 指定列名</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="删除列" tabindex="-1">删除列 <a class="header-anchor" href="#删除列" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ALTER TABLE 表名 DROP COLUMN 列名</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="修改列信息" tabindex="-1">修改列信息 <a class="header-anchor" href="#修改列信息" aria-hidden="true">#</a></h3><ul><li>方式一</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ALTER TABLE 表名 MODIFY 列名 新数据类型 </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">新属性</span><span style="color:#89DDFF;">];</span></span>
<span class="line"></span></code></pre></div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ALTER TABLE first_table MODIFY second_column VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">2</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>**注意：**修改后的数据类型和属性一定要兼容表中现有的数据！</p><ul><li>方式二</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ALTER TABLE 表名 CHANGE 旧列名 新列名 新数据类型 </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">新属性</span><span style="color:#89DDFF;">];</span></span>
<span class="line"></span></code></pre></div><h3 id="修改列排列位置" tabindex="-1">修改列排列位置 <a class="header-anchor" href="#修改列排列位置" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 移到首列</span></span>
<span class="line"><span style="color:#A6ACCD;">ALTER TABLE 表名 MODIFY 列名 列的类型 列的属性 FIRST</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 移到指定列的后面</span></span>
<span class="line"><span style="color:#A6ACCD;">ALTER TABLE 表名 MODIFY 列名 列的类型 列的属性 AFTER 指定列名</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="一条语句中包含多个修改操作" tabindex="-1">一条语句中包含多个修改操作 <a class="header-anchor" href="#一条语句中包含多个修改操作" aria-hidden="true">#</a></h3><p>可以多条数据同时执行</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ALTER TABLE 表名 操作1, 操作2, ..., 操作n</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>同时删除多列</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ALTER TABLE first_table DROP COLUMN third_column, DROP COLUMN fourth_column, DROP COLUMN fifth_column</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div>`,57),o=[p];function c(t,i,r,d,D,h){return n(),a("div",null,o)}const y=s(e,[["render",c]]);export{A as __pageData,y as default};
