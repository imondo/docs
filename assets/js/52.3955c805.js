(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{270:function(s,a,e){"use strict";e.r(a);var t=e(0),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"git基础流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git基础流程"}},[s._v("#")]),s._v(" git基础流程")]),s._v(" "),e("h2",{attrs:{id:"init"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#init"}},[s._v("#")]),s._v(" init")]),s._v(" "),e("p",[s._v("创建新仓库")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"clone"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clone"}},[s._v("#")]),s._v(" clone")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone username@host:/path/to/repository\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"add"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#add"}},[s._v("#")]),s._v(" add")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("// 第一次拉去代码\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin master\n\n// 新增代码\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n// 提交\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第一次提交"')]),s._v("\n\n// 提交到远程\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h2",{attrs:{id:"rebase-合并"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rebase-合并"}},[s._v("#")]),s._v(" Rebase 合并")]),s._v(" "),e("p",[s._v("该命令可以让和 "),e("code",[s._v("merge")]),s._v(" 命令得到的结果基本是一致的。")]),s._v(" "),e("p",[s._v("通常使用 "),e("code",[s._v("merge")]),s._v(" 操作将分支上的代码合并到 "),e("code",[s._v("master")]),s._v(" 中，分支样子如下所示")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://imgchr.com/i/1h34Jg",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://s2.ax1x.com/2020/02/09/1h34Jg.png",alt:"1h34Jg.png"}}),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("使用 "),e("code",[s._v("rebase")]),s._v(" 后，会将 "),e("code",[s._v("develop")]),s._v(" 上的 "),e("code",[s._v("commit")]),s._v(" 按顺序移到 "),e("code",[s._v("master")]),s._v(" 的第三个 "),e("code",[s._v("commit")]),s._v(" 后面，分支样子如下所示")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://imgchr.com/i/1h3hFS",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://s2.ax1x.com/2020/02/09/1h3hFS.png",alt:"1h3hFS.png"}}),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("Rebase 对比 merge，优势在于合并后的结果很清晰，只有一条线，劣势在于如果一旦出现冲突，解决冲突很麻烦，可能要解决多个冲突，但是 merge 出现冲突只需要解决一次。")]),s._v(" "),e("p",[s._v("使用 rebase 应该在需要被 rebase 的分支上操作，并且该分支是本地分支。如果 "),e("code",[s._v("develop")]),s._v(" 分支需要 rebase 到 "),e("code",[s._v("master")]),s._v(" 上去，那么应该如下操作")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## branch develop")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase master\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout master\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 用于将 `master` 上的 HEAD 移动到最新的 commit")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" merge develop\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h2",{attrs:{id:"stash"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#stash"}},[s._v("#")]),s._v(" stash")]),s._v(" "),e("p",[e("code",[s._v("stash")]),s._v(" 用于临时报错工作目录的改动。开发中可能会遇到代码写一半需要切分支打包的问题，如果这时候你不想 "),e("code",[s._v("commit")]),s._v(" 的话，就可以使用该命令。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("使用该命令可以暂存你的工作目录，后面想恢复工作目录，只需要使用")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash pop\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("这样你之前临时保存的代码又回来了")]),s._v(" "),e("h2",{attrs:{id:"reflog"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reflog"}},[s._v("#")]),s._v(" reflog")]),s._v(" "),e("p",[e("code",[s._v("reflog")]),s._v(" 可以看到 HEAD 的移动记录，假如之前误删了一个分支，可以通过 "),e("code",[s._v("git reflog")]),s._v(" 看到移动 HEAD 的哈希值")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/4/23/162f14df98ce3d83?w=950&h=118&f=png&s=77151",alt:""}})]),s._v(" "),e("p",[s._v("从图中可以看出，HEAD 的最后一次移动行为是 "),e("code",[s._v("merge")]),s._v(" 后，接下来分支 "),e("code",[s._v("new")]),s._v(" 就被删除了，那么我们可以通过以下命令找回 "),e("code",[s._v("new")]),s._v(" 分支")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout 37d9aca\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -b new\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("PS："),e("code",[s._v("reflog")]),s._v(" 记录是时效的，只会保存一段时间内的记录。")]),s._v(" "),e("h2",{attrs:{id:"reset"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reset"}},[s._v("#")]),s._v(" Reset")]),s._v(" "),e("p",[s._v("如果你想删除刚写的 commit，就可以通过以下命令实现")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard HEAD^\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("但是 "),e("code",[s._v("reset")]),s._v(" 的本质并不是删除了 commit，而是重新设置了 HEAD 和它指向的 branch。")]),s._v(" "),e("h2",{attrs:{id:"远程协作流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#远程协作流程"}},[s._v("#")]),s._v(" 远程协作流程")]),s._v(" "),e("h3",{attrs:{id:"开源项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开源项目"}},[s._v("#")]),s._v(" 开源项目")]),s._v(" "),e("ul",[e("li",[s._v("fork dev 分支")]),s._v(" "),e("li",[s._v("克隆代码")])]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("git clone 你本地"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("git\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查看远程分支")]),s._v("\ngit remote "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 添加远程分支别名")]),s._v("\ngit remote add devmaster 远程地址\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("ul",[e("li",[s._v("修改本地代码第一次提交")])]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("git add "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\ngit commit "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"feat: 提交"')]),s._v("\ngit push origin master\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("第二次修改前先更新代码")])]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("git fetch devmaster\ngit merge devmaster"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("提交pr，请提交到主干"),e("strong",[s._v("dev")]),s._v("分支上，提交请遵循基本规范")])]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("type"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 提交描述\n\ntype\n\nfeat "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 新增功能\nfix "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 修改bug\ndocs "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 描述性修改\nstyle "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  样式修改\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[e("a",{attrs:{name:"5f739c16"}})]),s._v(" "),e("h3",{attrs:{id:"私有项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#私有项目"}},[s._v("#")]),s._v(" 私有项目")]),s._v(" "),e("ul",[e("li",[s._v("克隆开发的分支")])]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("git clone "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("b 分支名称 分支地址\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("提交代码")]),s._v(" "),e("li",[s._v("合并分支")])]),s._v(" "),e("h2",{attrs:{id:"错误汇总"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误汇总"}},[s._v("#")]),s._v(" 错误汇总")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("npm install")]),s._v(" 出现 "),e("code",[s._v("Unexpected end of JSON input while parsing near")]),s._v("的错误")])]),s._v(" "),e("p",[s._v("我们可以先清除缓存")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm cache clean --force\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("再次执行 "),e("code",[s._v("npm install")]),s._v("，如仍然出现原错误，可执行下句代码：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm config set registry http://registry.cnpmjs.org\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("将"),e("code",[s._v("npm")]),s._v("代理重置。")])])}),[],!1,null,null,null);a.default=n.exports}}]);