(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{437:function(t,a,r){"use strict";r.r(a);var e=r(22),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"微信小程序转钉钉小程序"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#微信小程序转钉钉小程序"}},[t._v("#")]),t._v(" 微信小程序转钉钉小程序")]),t._v(" "),r("blockquote",[r("p",[r("a",{attrs:{href:"https://ding-doc.dingtalk.com/doc#/personnal/fdzxvg",target:"_blank",rel:"noopener noreferrer"}},[t._v("第三方个人应用开发文档"),r("OutboundLink")],1)])]),t._v(" "),r("p",[r("a",{attrs:{name:"zZyUq"}})]),t._v(" "),r("h2",{attrs:{id:"使用工具转换"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用工具转换"}},[t._v("#")]),t._v(" 使用工具转换")]),t._v(" "),r("p",[r("br"),t._v("由于平台差异，微信小程序不能在钉钉平台直接使用，选择 "),r("a",{attrs:{href:"https://github.com/ant-move/Antmove",target:"_blank",rel:"noopener noreferrer"}},[t._v("Antmove"),r("OutboundLink")],1),t._v(" 转换"),r("br")]),t._v(" "),r("ul",[r("li",[t._v("安装转换工具")]),t._v(" "),r("li",[t._v("开始转换（推荐使用 vscode 插件 Antmove）")]),t._v(" "),r("li",[t._v("抹平平台差异\n"),r("ul",[r("li",[t._v("前端某些 api 差异")]),t._v(" "),r("li",[t._v("后端通知服务 api 差异")])])])]),t._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" antmove -g\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("ul",[r("li",[t._v("在需要转换项目下新建 antmove.config.js 文件")])]),t._v(" "),r("div",{staticClass:"language-javascript line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[t._v("module"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tinput"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\toutput"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'..\\\\etms-dd'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tenv"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tplatform"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dd'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tcomponent2"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tscope"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\ttype"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wx-alipay'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tcomponent"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\thooks"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),r("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("plugin")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("plugin")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("appJson")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" appJson"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br"),r("span",{staticClass:"line-number"},[t._v("12")]),r("br"),r("span",{staticClass:"line-number"},[t._v("13")]),r("br"),r("span",{staticClass:"line-number"},[t._v("14")]),r("br"),r("span",{staticClass:"line-number"},[t._v("15")]),r("br")])]),r("ul",[r("li",[t._v("终端执行命令 antmove \n"),r("a",{attrs:{name:"8bjkM"}})])]),t._v(" "),r("h2",{attrs:{id:"平台差异"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#平台差异"}},[t._v("#")]),t._v(" 平台差异")]),t._v(" "),r("ul",[r("li",[t._v("转换完成后，使用"),r("a",{attrs:{href:"https://ding-doc.dingtalk.com/doc#/kn6zg7/zunrdk",target:"_blank",rel:"noopener noreferrer"}},[t._v("开发工具"),r("OutboundLink")],1),t._v("打开程序，")]),t._v(" "),r("li",[t._v("看到调试器错误信息，根据提示和"),r("a",{attrs:{href:"https://ding-doc.dingtalk.com/doc#/dev/ed25rr",target:"_blank",rel:"noopener noreferrer"}},[t._v("开发文档"),r("OutboundLink")],1),t._v("来修改平台差异")])]),t._v(" "),r("p",[r("a",{attrs:{name:"ysosa"}})]),t._v(" "),r("h3",{attrs:{id:"全局变量"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#全局变量"}},[t._v("#")]),t._v(" 全局变量")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("微信")]),t._v(" "),r("th",[t._v("wx")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("钉钉")]),t._v(" "),r("td",[t._v("dd")])])])]),t._v(" "),r("p",[r("a",{attrs:{name:"SBLK9"}})]),t._v(" "),r("h3",{attrs:{id:"动态设置导航栏颜色"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#动态设置导航栏颜色"}},[t._v("#")]),t._v(" 动态设置导航栏颜色")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("微信")]),t._v(" "),r("th",[t._v("setNavigationBarColor")]),t._v(" "),r("th")])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("钉钉")]),t._v(" "),r("td",[r("a",{attrs:{href:"https://ding-doc.dingtalk.com/doc#/dev/ui-navigate/dd.setNavigationBar",target:"_blank",rel:"noopener noreferrer"}},[t._v("setNavigationBar"),r("OutboundLink")],1)]),t._v(" "),r("td",[t._v("没有hideTabBar接口")])])])]),t._v(" "),r("p",[r("a",{attrs:{name:"aPesd"}})]),t._v(" "),r("h3",{attrs:{id:"音频差异"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#音频差异"}},[t._v("#")]),t._v(" 音频差异")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("微信")]),t._v(" "),r("th",[r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/media/recorder/wx.stopRecord.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("stopRecord"),r("OutboundLink")],1)])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("钉钉")]),t._v(" "),r("td",[r("a",{attrs:{href:"https://ding-doc.dingtalk.com/doc#/dev/vw45p8",target:"_blank",rel:"noopener noreferrer"}},[t._v("getRecorderManager"),r("OutboundLink")],1)])])])]),t._v(" "),r("p",[r("a",{attrs:{name:"StdSk"}})]),t._v(" "),r("h3",{attrs:{id:"开放能力"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#开放能力"}},[t._v("#")]),t._v(" 开放能力")]),t._v(" "),r("p",[r("br"),t._v("微信小程序的"),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/component/button.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("button开放能力"),r("OutboundLink")],1),t._v("明显要强于钉钉小程序"),r("a",{attrs:{href:"https://ding-doc.dingtalk.com/doc#/dev/button-component",target:"_blank",rel:"noopener noreferrer"}},[t._v("开放能力"),r("OutboundLink")],1),r("br"),t._v(" "),r("br"),r("strong",[t._v("微信端的授权或着获取用户信息在钉钉端需要改变交互或者实现方式")]),r("br"),t._v("**\n"),r("a",{attrs:{name:"k2OUi"}})]),t._v(" "),r("h3",{attrs:{id:"图表开发"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#图表开发"}},[t._v("#")]),t._v(" 图表开发")]),t._v(" "),r("p",[r("br"),t._v("选取 "),r("a",{attrs:{href:"https://github.com/one-pupil/wx-charts",target:"_blank",rel:"noopener noreferrer"}},[t._v("wx-charts"),r("OutboundLink")],1),t._v(" 开源项目，文档"),r("a",{attrs:{href:"https://github.com/xiaolin3303/wx-charts/issues/56",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),r("OutboundLink")],1),t._v("。"),r("br"),t._v(" "),r("br"),r("strong",[t._v("备选方案：")]),r("a",{attrs:{href:"https://gitee.com/uCharts/uCharts",target:"_blank",rel:"noopener noreferrer"}},[t._v("uCharts"),r("OutboundLink")],1),r("br")]),t._v(" "),r("p",[r("a",{attrs:{name:"6437aa0f"}})]),t._v(" "),r("h3",{attrs:{id:"request-请求"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#request-请求"}},[t._v("#")]),t._v(" request 请求")]),t._v(" "),r("p",[r("br"),t._v("钉钉请求网络"),r("strong",[t._v("注意：")]),r("br")]),t._v(" "),r("ul",[r("li",[t._v("头部信息是 headers，不是微信小程序 header")]),t._v(" "),r("li",[t._v("新增头部信息时，参数都应该为"),r("strong",[t._v("字符串")])])]),t._v(" "),r("p",[t._v("**\n"),r("a",{attrs:{name:"L1zMT"}})]),t._v(" "),r("h3",{attrs:{id:"tabbar"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#tabbar"}},[t._v("#")]),t._v(" tabBar")]),t._v(" "),r("ul",[r("li",[t._v("微信小程序 TabBar 提供设置的 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/ui/tab-bar/wx.showTabBarRedDot.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("API"),r("OutboundLink")],1),t._v(" 相对齐全")]),t._v(" "),r("li",[t._v("钉钉小程序 提供的 "),r("a",{attrs:{href:"https://ding-doc.dingtalk.com/doc#/dev/ms4gid",target:"_blank",rel:"noopener noreferrer"}},[t._v("TabBar"),r("OutboundLink")],1),t._v(" 修改则没那么丰富")]),t._v(" "),r("li",[t._v("尤其是需要**隐藏tabBar：**是否修改钉钉小程序交互，采用主页分块访问模块？")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2020/png/124135/1585617065462-d016b107-9701-4771-a32c-9e897d9b4db4.png#align=left&display=inline&height=413&name=%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_15856170498763.png&originHeight=568&originWidth=333&size=6486&status=done&style=none&width=243",alt:"企业微信截图_15856170498763.png"}}),r("br")]),t._v(" "),r("p",[r("a",{attrs:{name:"c42e96e1"}})]),t._v(" "),r("h2",{attrs:{id:"真机调试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#真机调试"}},[t._v("#")]),t._v(" 真机调试")]),t._v(" "),r("p",[r("br"),t._v("真机预览时，需要在"),r("a",{attrs:{href:"https://open-dev.dingtalk.com/#/userSuite/setting/dingoagbigcsptkcbblwpm?tab=1",target:"_blank",rel:"noopener noreferrer"}},[t._v("钉钉开发者平台"),r("OutboundLink")],1),t._v("设置安全域名"),r("br"),r("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2020/jpeg/124135/1585546741155-072d1ac8-3846-4355-8f83-b25cd7e791bb.jpeg#align=left&display=inline&height=712&name=1585546726%281%29.jpg&originHeight=712&originWidth=1363&size=24598&status=done&style=none&width=1363",alt:"1585546726(1).jpg"}}),r("br")]),t._v(" "),r("p",[r("a",{attrs:{name:"Otp2M"}})]),t._v(" "),r("h3",{attrs:{id:"平台发布"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#平台发布"}},[t._v("#")]),t._v(" 平台发布")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://open-dev.dingtalk.com/#/index",target:"_blank",rel:"noopener noreferrer"}},[t._v("注册地址"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://ding-doc.dingtalk.com/doc#/isv/yeun2g",target:"_blank",rel:"noopener noreferrer"}},[t._v("开发与发布"),r("OutboundLink")],1)])]),t._v(" "),r("p",[r("a",{attrs:{name:"EbCKp"}})]),t._v(" "),r("h2",{attrs:{id:"一些考虑"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#一些考虑"}},[t._v("#")]),t._v(" 一些考虑")]),t._v(" "),r("p",[r("br"),t._v("微信小程序是否有必要转换，由于"),r("strong",[t._v("两个平台造成的差异")]),t._v("可能需要考虑的细节：")]),t._v(" "),r("ul",[r("li",[t._v("后期代码维护；由于差异带来的维护成本")]),t._v(" "),r("li",[t._v("两端交互的不同；带来的开发成本")]),t._v(" "),r("li",[t._v("发布平台的不同；审核时间带来发布时间的考虑")]),t._v(" "),r("li",[t._v("图表开发；平台方案的选取可能带来两端实现的差异化与时间的后延")])]),t._v(" "),r("p",[r("br"),r("strong",[t._v("总结")]),t._v("：是否需要重新规划，使用多端统一开发方案："),r("a",{attrs:{href:"https://uniapp.dcloud.io/?id=uni-app",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni-app"),r("OutboundLink")],1),r("br"),t._v(" "),r("br"),r("strong",[t._v("多端开发考虑：")]),r("br"),t._v("**")]),t._v(" "),r("ul",[r("li",[t._v("对比多端差异，是否需要综合考虑"),r("strong",[t._v("认证交互")]),t._v("，减少一些开发维护成本")]),t._v(" "),r("li",[r("strong",[t._v("图表")]),t._v("如果使用使用"),r("a",{attrs:{href:"https://www.echartsjs.com/zh/tutorial.html#%E5%9C%A8%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E4%BD%BF%E7%94%A8%20ECharts",target:"_blank",rel:"noopener noreferrer"}},[t._v("Echarts微信版本"),r("OutboundLink")],1),t._v("，在多端转换会出现**只支持微信小程序，**是否考虑多端统一使用 "),r("a",{attrs:{href:"https://f2.antv.vision/zh",target:"_blank",rel:"noopener noreferrer"}},[t._v("Antv F2"),r("OutboundLink")],1),t._v(" ？")])])])}),[],!1,null,null,null);a.default=n.exports}}]);