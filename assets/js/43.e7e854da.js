(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{261:function(s,a,n){"use strict";n.r(a);var e=n(0),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"docker安装jenkins入门"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker安装jenkins入门"}},[s._v("#")]),s._v(" Docker安装Jenkins入门")]),s._v(" "),n("h2",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),n("p",[s._v("执行以下命令")]),s._v(" "),n("div",{staticClass:"language-mginx line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 相关依赖\n$ sudo yum install -y yum-utils \\\n  device-mapper-persistent-data \\\n  lvm2\n  \n# 设置稳定仓库\n  \n$ sudo yum-config-manager \\\n    --add-repo \\\n    https://download.docker.com/linux/centos/docker-ce.repo\n    \n# 安装docker\n\nsudo yum install docker-ce docker-ce-cli containerd.io\n\n# 版本\n\ndocker -v\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h2",{attrs:{id:"安装jenkins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装jenkins"}},[s._v("#")]),s._v(" 安装Jenkins")]),s._v(" "),n("p",[n("code",[s._v("jenkins")]),s._v("的容器启动后，重要的文件保存在当前电脑，否则容器被损坏或者删除后就找不回这些文件了，准备一个目录作为文件映射，注意文件夹权限问题，本机目录是"),n("code",[s._v("/usr/local/work/jenkins")]),s._v("，并且执行了"),n("code",[s._v("chmod 777 /usr/local/work/jenkins")]),s._v("以确保"),n("code",[s._v("docker")]),s._v("进程有权限读写此目录")]),s._v(" "),n("div",{staticClass:"language-nginx line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-nginx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看是否占用端口8080")]),s._v("\n\nnetstat "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("anp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" grep "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装jenkins")]),s._v("\n\ndocker run "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("work"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins_home "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name my"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("jenkins "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("idt jenkins\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("blockquote",[n("p",[s._v("出现"),n("code",[s._v("Cannot connect to the Docker daemon.")]),s._v("问题尝试"),n("code",[s._v("service docker start")]),s._v("重启")])]),s._v(" "),n("p",[s._v("访问"),n("code",[s._v("8080")]),s._v("端口")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://imgchr.com/i/lXEqg0",target:"_blank",rel:"noopener noreferrer"}},[s._v("!如图"),n("OutboundLink")],1)]),s._v(" "),n("ul",[n("li",[n("p",[s._v("页面提示密码文件的位置："),n("code",[s._v("/var/jenkins_home/secrets/initialAdminPassword")]),s._v("，由于已经将"),n("code",[s._v("/var/jenkins_home")]),s._v("目录映射到"),n("code",[s._v("/usr/local/work/jenkins")]),s._v("目录，所以密码文件位置是："),n("code",[s._v("/usr/local/work/jenkins/secrets/initialAdminPassword")])])]),s._v(" "),n("li",[n("p",[s._v("安装推荐的插件")])])]),s._v(" "),n("p",[n("img",{attrs:{src:"https://s2.ax1x.com/2020/01/15/lXVeVe.png",alt:"配置"}})]),s._v(" "),n("h2",{attrs:{id:"docker指令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker指令"}},[s._v("#")]),s._v(" docker指令")]),s._v(" "),n("div",{staticClass:"language-nginx line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-nginx"}},[n("code",[s._v("service docker start "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 启动docker\n\ndocker run "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 启动容器\n\ndocker stop "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("image id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 停止容器运行\n\ndocker rmi "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("image id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 通过镜像的id来删除指定镜像\n\ndocker pull jenkins"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 更新容器\n\ndocker ps "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 查看容器状态\n\ndocker inspect CONTAINER ID "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 查看容器详情\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);