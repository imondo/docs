(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{355:function(s,e,n){"use strict";n.r(e);var a=n(18),t=Object(a.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"vue使用过程小记（持续更新）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue使用过程小记（持续更新）"}},[s._v("#")]),s._v(" Vue使用过程小记（持续更新）")]),s._v(" "),n("h2",{attrs:{id:"指令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#指令"}},[s._v("#")]),s._v(" 指令")]),s._v(" "),n("ul",[n("li",[s._v("v-bind可以绑定对象")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- 绑定一个有属性的对象 --\x3e\n<div v-bind="{ id: someProp, \'other-attr\': otherProp }"></div>\n\n\x3c!-- 通过 prop 修饰符绑定 DOM 属性 --\x3e\n<div v-bind:text-content.prop="text"></div>\n\n\x3c!-- prop 绑定。“prop”必须在 my-component 中声明。--\x3e\n<my-component :prop="someThing"></my-component>\n\n\x3c!-- 通过 $props 将父组件的 props 一起传给子组件 --\x3e\n<child-component v-bind="$props"></child-component>\n\n\x3c!-- XLink --\x3e\n<svg><a :xlink:special="foo"></a></svg>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"利用函数来传递数据有奇效"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#利用函数来传递数据有奇效"}},[s._v("#")]),s._v(" 利用函数来传递数据有奇效")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// 表格是否可以勾选判断条件\nselectable: {\n  type: Function,\n  default: () => {\n    return true;\n  }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h2",{attrs:{id:"vue的dispatch"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue的dispatch"}},[s._v("#")]),s._v(" vue的dispatch")]),s._v(" "),n("ul",[n("li",[s._v("同级的"),n("code",[s._v("actions")]),s._v("可以引入"),n("code",[s._v("dispatch")])])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("GenerateRoutes({ dispatch, commit }, data) {\n  ...\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ul",[n("li",[n("code",[s._v("dispatch")]),s._v("最多就只接受两个参数，"),n("code",[s._v("type")]),s._v("和"),n("code",[s._v("payload")])])]),s._v(" "),n("p",[s._v("传递第三个，为"),n("code",[s._v("undefined")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("dispatch('AddRoutesIndex', {\n  routes: accessedRouters,\n  index: schoolRouterIndex\n});\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"elementui中el-tabs组件中el-table的宽度问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#elementui中el-tabs组件中el-table的宽度问题"}},[s._v("#")]),s._v(" ElementUI中el-tabs组件中el-table的宽度问题")]),s._v(" "),n("p",[s._v("在tabs使用table会出现滚动条遮住内容可以使用"),n("code",[s._v("v-if")]),s._v("控制"),n("code",[s._v("el-tab-pane")]),s._v("里的内容\n例如"),n("code",[s._v("v-if=\"activeName === 'second'\"")])]),s._v(" "),n("h2",{attrs:{id:"通过跨域方式获取信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通过跨域方式获取信息"}},[s._v("#")]),s._v(" 通过跨域方式获取信息")]),s._v(" "),n("p",[s._v("项目"),n("code",[s._v("token.html")]),s._v("引入"),n("a",{attrs:{href:"https://github.com/zendesk/cross-storage",target:"_blank",rel:"noopener noreferrer"}},[s._v("cross-storage"),n("OutboundLink")],1),s._v("可以跨域获取信息")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('// utils/auth.js\n\nvar iportal = new CrossStorageClient(\'token.html\');\niportal.onConnect().then(() => iportal.get(accessToken)).then(token_list => {\n  const tokenObj = JSON.parse(token_list); // { "access_token":"4bd53dcc-2e94-4652-9463-d4495c2509ad", "token_type":"bearer", ... }\n  resolve(tokenObj);\n});\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h2",{attrs:{id:"refreshtoken获取方案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#refreshtoken获取方案"}},[s._v("#")]),s._v(" RefreshToken获取方案")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// /config/fetch.js\n...\nlet isRefreshing = false; // refresh_token是否刷新成功\nlet queueRequests = []; // refresh_token刷新并行接口集合队列\nswitch (status) {\n  case 401:\n    const { config } = error.response;\n    if (!isRefreshing) {\n      isRefreshing = true;\n      const refreshToken = RefreshToken.getInstance(store.state.config.webIportalURL);\n      return refreshToken.init().then(token => {\n        if (token && token.refresh_token && token.isPastDue) {\n          config.headers.Authorization = token.token_type + ' ' + token.access_token;\n          config.url = config.url.substr(config.url.indexOf('api/') + 4);\n          queueRequests.forEach((cb) => cb(token))\n          // 重试完清空这个队列\n          queueRequests = []\n          return axios(config);\n        } else {\n          ...\n        }\n      }).finally(() => {\n        isRefreshing = false\n      });\n    } else {\n      return new Promise((resolve) => {\n        // 将resolve放进队列，用一个函数形式来保存，等token刷新后直接执行\n        queueRequests.push((token) => {\n          config.headers.Authorization = token.token_type + ' ' + token.access_token;\n          config.url = config.url.substr(config.url.indexOf('api/') + 4);\n          resolve(axios(config));\n        })\n      })\n    }      \n    break;\n  case 403:\n        ...\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);