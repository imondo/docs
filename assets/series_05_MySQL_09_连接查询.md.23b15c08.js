import{_ as s,c as n,o as a,a as l}from"./app.11ca58d6.js";const F=JSON.parse('{"title":"连接查询","description":"","frontmatter":{},"headers":[],"relativePath":"series/05_MySQL/09_连接查询.md","lastUpdated":1672379633000}'),p={name:"series/05_MySQL/09_连接查询.md"},o=l(`<h1 id="连接查询" tabindex="-1">连接查询 <a class="header-anchor" href="#连接查询" aria-hidden="true">#</a></h1><p>把多个表查询记录组成新的更大的记录，这个过程就叫做连接查询。连接查询的结果集中包含一个表中的每一条记录与另一个表中的每一条记录相互匹配的组合，像这样的结果集就可以称之为笛卡尔积。</p><p>使用 <code>,</code> 连接表即可查询</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> t1,t2;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| m1   | n1   | m2   | n2   |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> | a    |    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> | a    |    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |    </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> | d    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |    </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> | d    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> | a    |    </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> | d    |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">06</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>等价写法</p><ul><li>写法一： 这种写法是将t1、t2表中的列名都显式的写出来，也就是使用了列的全限定名。</li></ul><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> t1.m1, t1.n1, t2.m2, t2.n2 </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> t1, t2;</span></span>
<span class="line"></span></code></pre></div><ul><li>写法二：由于t1、t2表中的列名并不重复，所以没有可能让服务器懵逼的二义性，在查询列表上直接使用列名也是可以的。</li></ul><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> m1, n1, m2, n2 </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> t1, t2; </span></span>
<span class="line"></span></code></pre></div><ul><li>写法三： 这种写法意思就是查询t1表的全部的列，t2表的全部的列。</li></ul><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> t1.</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">, t2.</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> t1, t2;</span></span>
<span class="line"></span></code></pre></div><h2 id="连接的过程" tabindex="-1">连接的过程 <a class="header-anchor" href="#连接的过程" aria-hidden="true">#</a></h2><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> t1, t2 </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> t1.m1 </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> t1.m1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> t2.m2 </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> t2.n2 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"></span></code></pre></div><p>在这个查询中我们指明了这三个过滤条件：</p><ul><li><p><code>t1.m1 &gt; 1</code></p></li><li><p><code>t1.m1 = t2.m2</code></p></li><li><p><code>t2.n2 &lt; &#39;d&#39;</code></p></li></ul><p>那么这个连接查询的大致执行过程如下：</p><p>首先确定第一个需要查询的表，这个表称之为驱动表。此处假设使用 <code>t1</code> 作为驱动表，那么就需要到 <code>t1</code> 表中找满足 <code>t1.m1 &gt; 1</code> 的记录，符合这个条件的t1表记录如下所示：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| m1   | n1   |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+</span></span>
<span class="line"><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">01</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span></code></pre></div><p>我们可以看到，<code>t1</code> 表中符合 <code>t1.m1 &gt; 1</code> 的记录有两条。</p><p>上一步骤中从驱动表每获取到一条记录，都需要到t2表中查找匹配的记录，所谓匹配的记录，指的是符合过滤条件的记录。因为是根据t1表中的记录去找 <code>t2</code> 表中的记录，所以t2表也可以被称之为被驱动表。上一步骤从驱动表中得到了2条记录，也就意味着需要查询2次<code>t2</code>表。此时涉及两个表的列的过滤条件 <code>t1.m1 = t2.m2</code> 就派上用场了：</p><p>对于从t1表种查询得到的第一条记录，也就是当<code>t1.m1 = 2, t1.n1 = &#39;b&#39;</code>时，过滤条件<code>t1.m1 = t2.m2</code>就相当于<code>t2.m2 = 2</code>，所以此时t2表相当于有了<code>t2.m2 = 2、t2.n2 &lt; &#39;d&#39;</code>这两个过滤条件，然后到t2表中执行单表查询，将得到的记录和从<code>t1</code>表中查询得到的第一条记录相组合得到下边的结果：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| m1   | n1   | m2   | n2   |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"></span></code></pre></div><p>对于从t1表种查询得到的第二条记录，也就是当<code>t1.m1 = 3, t1.n1 = &#39;c&#39;</code>时，过滤条件<code>t1.m1 = t2.m2</code>就相当于<code>t2.m2 = 3</code>，所以此时t2表相当于有了<code>t2.m2 = 3、t2.n2 &lt; &#39;d&#39;</code>这两个过滤条件，然后到t2表中执行单表查询，将得到的记录和从t1表中查询得到的第二条记录相组合得到下边的结果：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| m1   | n1   | m2   | n2   |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"></span></code></pre></div><p>所以整个连接查询的执行最后得到的结果集就是这样：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| m1   | n1   | m2   | n2   |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>从上边两个步骤可以看出来，我们上边唠叨的这个两表连接查询共需要查询1次t1表，2次t2表。当然这是在特定的过滤条件下的结果，如果我们把<code>t1.m1 &gt; 1</code>这个条件去掉，那么从t1表中查出的记录就有3条，就需要查询3次t2表了。也就是说在两表连接查询中，<strong>驱动表只需要查询一次，被驱动表可能会被查询多次</strong>。</p><h2 id="内连接和外连接" tabindex="-1">内连接和外连接 <a class="header-anchor" href="#内连接和外连接" aria-hidden="true">#</a></h2><p>上述的连接都是内连接，当驱动表中的记录即使在被驱动表中没有匹配的记录，也仍然需要加入到结果集时就需要外连接两个表，外连接仍然可以细分为2种：</p><ul><li>左外连接选取左侧的表为驱动表。</li><li>右外连接选取右侧的表为驱动表。</li></ul><h3 id="左连接" tabindex="-1">左连接 <a class="header-anchor" href="#左连接" aria-hidden="true">#</a></h3><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> t1 LEFT [OUTER] </span><span style="color:#F78C6C;">JOIN</span><span style="color:#A6ACCD;"> t2 </span><span style="color:#F78C6C;">ON</span><span style="color:#A6ACCD;"> 连接条件 [WHERE 普通过滤条件];</span></span>
<span class="line"></span></code></pre></div><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> student_info.number, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">, major, </span><span style="color:#F78C6C;">subject</span><span style="color:#A6ACCD;">, score </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student_info </span><span style="color:#F78C6C;">left join</span><span style="color:#A6ACCD;"> student_score </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> student_info.number </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> student_score.number;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------------------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#C792EA;">number</span><span style="color:#A6ACCD;">   | </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">      | major                    | </span><span style="color:#F78C6C;">subject</span><span style="color:#A6ACCD;">                     | score |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------------------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180101</span><span style="color:#A6ACCD;"> | 杜子腾    | 计算机科学与工程         | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180101</span><span style="color:#A6ACCD;"> | 杜子腾    | 计算机科学与工程         | 母猪的产后护理              |    </span><span style="color:#F78C6C;">78</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180102</span><span style="color:#A6ACCD;"> | 杜琦燕    | 计算机科学与工程         | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">98</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180102</span><span style="color:#A6ACCD;"> | 杜琦燕    | 计算机科学与工程         | 母猪的产后护理              |   </span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180103</span><span style="color:#A6ACCD;"> | 范统      | 软件工程                 | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">61</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180103</span><span style="color:#A6ACCD;"> | 范统      | 软件工程                 | 母猪的产后护理              |    </span><span style="color:#F78C6C;">59</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180104</span><span style="color:#A6ACCD;"> | 史珍香    | 软件工程                 | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">46</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180104</span><span style="color:#A6ACCD;"> | 史珍香    | 软件工程                 | 母猪的产后护理              |    </span><span style="color:#F78C6C;">55</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180105</span><span style="color:#A6ACCD;"> | 范剑      | 飞行器设计               | </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">                        |  </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180106</span><span style="color:#A6ACCD;"> | 朱逸群    | 电子信息                 | </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">                        |  </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------------------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">09</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="右连接" tabindex="-1">右连接 <a class="header-anchor" href="#右连接" aria-hidden="true">#</a></h3><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> t1 RIGHT [OUTER] </span><span style="color:#F78C6C;">JOIN</span><span style="color:#A6ACCD;"> t2 </span><span style="color:#F78C6C;">ON</span><span style="color:#A6ACCD;"> 连接条件 [WHERE 普通过滤条件];</span></span>
<span class="line"></span></code></pre></div><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> student_info.number ,</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,major,</span><span style="color:#F78C6C;">subject</span><span style="color:#A6ACCD;">,score </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student_score </span><span style="color:#F78C6C;">right join</span><span style="color:#A6ACCD;"> student_info </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> student_info.number </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> student_score.number;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------------------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#C792EA;">number</span><span style="color:#A6ACCD;">   | </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">      | major                    | </span><span style="color:#F78C6C;">subject</span><span style="color:#A6ACCD;">                     | score |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------------------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180101</span><span style="color:#A6ACCD;"> | 杜子腾    | 计算机科学与工程         | 母猪的产后护理              |    </span><span style="color:#F78C6C;">78</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180101</span><span style="color:#A6ACCD;"> | 杜子腾    | 计算机科学与工程         | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180102</span><span style="color:#A6ACCD;"> | 杜琦燕    | 计算机科学与工程         | 母猪的产后护理              |   </span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180102</span><span style="color:#A6ACCD;"> | 杜琦燕    | 计算机科学与工程         | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">98</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180103</span><span style="color:#A6ACCD;"> | 范统      | 软件工程                 | 母猪的产后护理              |    </span><span style="color:#F78C6C;">59</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180103</span><span style="color:#A6ACCD;"> | 范统      | 软件工程                 | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">61</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180104</span><span style="color:#A6ACCD;"> | 史珍香    | 软件工程                 | 母猪的产后护理              |    </span><span style="color:#F78C6C;">55</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180104</span><span style="color:#A6ACCD;"> | 史珍香    | 软件工程                 | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">46</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180105</span><span style="color:#A6ACCD;"> | 范剑      | 飞行器设计               | </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">                        |  </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180106</span><span style="color:#A6ACCD;"> | 朱逸群    | 电子信息                 | </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;">                        |  </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------------------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="内连接" tabindex="-1">内连接 <a class="header-anchor" href="#内连接" aria-hidden="true">#</a></h3><p>内连接和外连接的根本区别就是在驱动表中的记录不符合<code>ON 子句</code>中的连接条件时不会把该记录加入到最后的结果集，我们最开始唠叨的那些连接查询的类型都是内连接。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> t1 [INNER | CROSS] </span><span style="color:#F78C6C;">JOIN</span><span style="color:#A6ACCD;"> t2 [ON 连接条件] [WHERE 普通过滤条件];</span></span>
<span class="line"></span></code></pre></div><p>也就是说在MySQL中，下边这几种内连接的写法都是等价的：</p><ul><li><code>SELECT * FROM t1 JOIN t2;</code></li><li><code>SELECT * FROM t1 INNER JOIN t2;</code></li><li><code>SELECT * FROM t1 CROSS JOIN t2;</code></li></ul><p>上边的这些写法和直接把需要连接的表名放到FROM语句之后，用逗号,分隔开的写法是等价的</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> t1, t2;</span></span>
<span class="line"></span></code></pre></div><p>推荐 <code>INNER JOIN</code> 写法</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> student_info.number, </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">, major, </span><span style="color:#F78C6C;">subject</span><span style="color:#A6ACCD;">, score </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student_info </span><span style="color:#F78C6C;">inner join</span><span style="color:#A6ACCD;"> student_score </span><span style="color:#F78C6C;">limit</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------+-----------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#C792EA;">number</span><span style="color:#A6ACCD;">   | </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">      | major        | </span><span style="color:#F78C6C;">subject</span><span style="color:#A6ACCD;">               | score |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------+-----------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180106</span><span style="color:#A6ACCD;"> | 朱逸群    | 电子信息     | 母猪的产后护理        |    </span><span style="color:#F78C6C;">78</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------+-----------------------+-------+</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">row</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="小结" tabindex="-1">小结 <a class="header-anchor" href="#小结" aria-hidden="true">#</a></h3><p>把三种连接方式都写出来，可以对比下</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">inner join</span><span style="color:#A6ACCD;"> t2 </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> t1.m1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> t2.m2;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| m1   | n1   | m2   | n2   |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">left join</span><span style="color:#A6ACCD;"> t2 </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> t1.m1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> t2.m2;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| m1   | n1   | m2   | n2   |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> | a    | </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">right join</span><span style="color:#A6ACCD;"> t2 </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> t1.m1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> t2.m2;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| m1   | n1   | m2   | n2   |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> | b    |</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;"> | </span><span style="color:#F78C6C;">NULL</span><span style="color:#A6ACCD;"> |    </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> | d    |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+</span></span>
<span class="line"><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="多表连接" tabindex="-1">多表连接 <a class="header-anchor" href="#多表连接" aria-hidden="true">#</a></h2><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">INNER JOIN</span><span style="color:#A6ACCD;"> t2 </span><span style="color:#F78C6C;">INNER JOIN</span><span style="color:#A6ACCD;"> t3 </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> t1.m1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> t2.m2 </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> t1.m1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> t3.m3;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| m1   | n1   | m2   | n2   | m3   | n3   |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+------+------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> | c    |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">------+------+------+------+------+------+</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">row</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>等价于</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> t1 </span><span style="color:#F78C6C;">INNER JOIN</span><span style="color:#A6ACCD;"> t2 </span><span style="color:#F78C6C;">ON</span><span style="color:#A6ACCD;"> t1.m1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> t2.m2 </span><span style="color:#F78C6C;">INNER JOIN</span><span style="color:#A6ACCD;"> t3 </span><span style="color:#F78C6C;">ON</span><span style="color:#A6ACCD;"> t1.m1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> t3.m3;</span></span>
<span class="line"></span></code></pre></div><h2 id="表的别名" tabindex="-1">表的别名 <a class="header-anchor" href="#表的别名" aria-hidden="true">#</a></h2><p>列的别名</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">number</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">学号</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student_info;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| 学号     |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180104</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180102</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180101</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180103</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180105</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180106</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+</span></span>
<span class="line"><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">03</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>别名可以用在 <code>ORDER BY</code>、<code>GROUP BY</code> 等子句别名</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">number</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">学号</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student_info </span><span style="color:#F78C6C;">order by</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">学号</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">desc</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| 学号     |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180104</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180102</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180101</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180103</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180105</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180106</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+</span></span>
<span class="line"><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>表的别名</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> s1.number, s1.name,s1.major, s2.subject, s2.score </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student_info </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> s1 </span><span style="color:#F78C6C;">inner join</span><span style="color:#A6ACCD;"> student_score </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> s2 </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> s1.number</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">s2.number </span><span style="color:#F78C6C;">limit</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------------------+-----------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#C792EA;">number</span><span style="color:#A6ACCD;">   | </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">      | major                    | </span><span style="color:#F78C6C;">subject</span><span style="color:#A6ACCD;">               | score |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------------------+-----------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180101</span><span style="color:#A6ACCD;"> | 杜子腾    | 计算机科学与工程         | 母猪的产后护理        |    </span><span style="color:#F78C6C;">78</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------+--------------------------+-----------------------+-------+</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">row</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="自连接" tabindex="-1">自连接 <a class="header-anchor" href="#自连接" aria-hidden="true">#</a></h2><p>同一个表的连接，就是自连接。想查看与&#39;史珍香&#39;相同专业的学生有哪些</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> s2.name, s2.number, s2.major </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student_info </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> s1 </span><span style="color:#F78C6C;">inner join</span><span style="color:#A6ACCD;"> student_info </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> s2 </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> s1.name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">史珍香</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> s1.major</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">s2.major;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">-----------+----------+--------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">      | </span><span style="color:#C792EA;">number</span><span style="color:#A6ACCD;">   | major        |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">-----------+----------+--------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| 范统      | </span><span style="color:#F78C6C;">20180103</span><span style="color:#A6ACCD;"> | 软件工程     |</span></span>
<span class="line"><span style="color:#A6ACCD;">| 史珍香    | </span><span style="color:#F78C6C;">20180104</span><span style="color:#A6ACCD;"> | 软件工程     |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">-----------+----------+--------------+</span></span>
<span class="line"><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="子查询和连接查询转换" tabindex="-1">子查询和连接查询转换 <a class="header-anchor" href="#子查询和连接查询转换" aria-hidden="true">#</a></h2><p>有的查询需求既可以使用连接查询解决，也可以使用子查询解决</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student_score </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">number</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">number</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student_info </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> major </span><span style="color:#F78C6C;">like</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">计算机%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#C792EA;">number</span><span style="color:#A6ACCD;">   | </span><span style="color:#F78C6C;">subject</span><span style="color:#A6ACCD;">                     | score |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180101</span><span style="color:#A6ACCD;"> | 母猪的产后护理              |    </span><span style="color:#F78C6C;">78</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180101</span><span style="color:#A6ACCD;"> | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180102</span><span style="color:#A6ACCD;"> | 母猪的产后护理              |   </span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180102</span><span style="color:#A6ACCD;"> | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">98</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> s1.number, s1.subject,s1.score  </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student_score </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> s1 </span><span style="color:#F78C6C;">inner join</span><span style="color:#A6ACCD;"> student_info </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> s2 </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> s1.number </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> s2.number </span><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> s2.major </span><span style="color:#F78C6C;">like</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">计算机%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#C792EA;">number</span><span style="color:#A6ACCD;">   | </span><span style="color:#F78C6C;">subject</span><span style="color:#A6ACCD;">                     | score |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180101</span><span style="color:#A6ACCD;"> | 母猪的产后护理              |    </span><span style="color:#F78C6C;">78</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180101</span><span style="color:#A6ACCD;"> | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180102</span><span style="color:#A6ACCD;"> | 母猪的产后护理              |   </span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#A6ACCD;">| </span><span style="color:#F78C6C;">20180102</span><span style="color:#A6ACCD;"> | 论萨达姆的战争准备          |    </span><span style="color:#F78C6C;">98</span><span style="color:#A6ACCD;"> |</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#676E95;font-style:italic;">----------+-----------------------------+-------+</span></span>
<span class="line"><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mysql</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-hidden="true">#</a></h2><p>使用连接查询关键词就是 <code>join</code></p><ul><li><code>inner join</code> 内连接</li><li><code>left join</code> 左（外）连接</li><li><code>right join</code> 右（外）连接</li></ul>`,68),e=[o];function C(t,c,r,y,A,D){return a(),n("div",null,e)}const d=s(p,[["render",C]]);export{F as __pageData,d as default};
