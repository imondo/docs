import{_ as e,c as a,o as s,a as r}from"./app.90b3aaf2.js";const m=JSON.parse('{"title":"vuepress与travis-cli持续集成自动化部署","description":"","frontmatter":{},"headers":[],"relativePath":"guide/07_PROGRAM/10_vuepress与travis-cli持续集成自动化部署.md","lastUpdated":1670822938000}'),n={name:"guide/07_PROGRAM/10_vuepress与travis-cli持续集成自动化部署.md"},t=r(`<h1 id="vuepress与travis-cli持续集成自动化部署" tabindex="-1">vuepress与travis-cli持续集成自动化部署 <a class="header-anchor" href="#vuepress与travis-cli持续集成自动化部署" aria-hidden="true">#</a></h1><p>由于前段时间整理了下工作中常用到的命令，想把其做成个文档，以备以后能够方便查阅，想到用<code>vuepress</code>来搭建文档。</p><p><code>vuepress</code>的搭建完全可参照<a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noreferrer">官网</a>，但是在线部署的时候还是碰到了一些需要注意的细节地方。</p><p>本文的部署是集成了<code>travis cli</code>自动化部署。</p><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-hidden="true">#</a></h2><p>根目录新建<code>travis.yml</code>文件</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">language: node_js # node环境</span></span>
<span class="line"><span style="color:#A6ACCD;">node_js:</span></span>
<span class="line"><span style="color:#A6ACCD;">  - lts/*</span></span>
<span class="line"><span style="color:#A6ACCD;">script:</span></span>
<span class="line"><span style="color:#A6ACCD;">  - npm run docs:build # 执行命令</span></span>
<span class="line"><span style="color:#A6ACCD;">deploy:</span></span>
<span class="line"><span style="color:#A6ACCD;">  provider: pages</span></span>
<span class="line"><span style="color:#A6ACCD;">  skip-cleanup: true</span></span>
<span class="line"><span style="color:#A6ACCD;">  local_dir: docs/.vuepress/dist # 部署的文件夹文件</span></span>
<span class="line"><span style="color:#A6ACCD;">  github-token: $GITHUB_TOKEN # travis服务上的token变量</span></span>
<span class="line"><span style="color:#A6ACCD;">  target-branch: gh-pages # 集成发布到gh-pages上</span></span>
<span class="line"><span style="color:#A6ACCD;">  keep-history: true</span></span>
<span class="line"><span style="color:#A6ACCD;">  on:</span></span>
<span class="line"><span style="color:#A6ACCD;">    branch: master</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="设置github" tabindex="-1">设置github <a class="header-anchor" href="#设置github" aria-hidden="true">#</a></h2><ul><li>手动创建<code>gh-pages</code></li></ul><p><a href="https://imgchr.com/i/1hGicj" target="_blank" rel="noreferrer"><img src="https://s2.ax1x.com/2020/02/09/1hGicj.jpg" alt="1hGicj.jpg"></a></p><ul><li>创建<code>github token</code></li></ul><p><a href="https://imgchr.com/i/1hGFjs" target="_blank" rel="noreferrer"><img src="https://s2.ax1x.com/2020/02/09/1hGFjs.jpg" alt="1hGFjs.jpg"></a><a href="https://imgchr.com/i/1hGC9g" target="_blank" rel="noreferrer"><img src="https://s2.ax1x.com/2020/02/09/1hGC9g.jpg" alt="1hGC9g.jpg"></a></p><p>点击<code>generate new token</code>，选择部分权限</p><p><a href="https://imgchr.com/i/1hGEBq" target="_blank" rel="noreferrer"><img src="https://s2.ax1x.com/2020/02/09/1hGEBq.png" alt="1hGEBq.png"></a></p><p>保存后，注意复制<code>token</code>串，只有第一次才会显示，以后访问只能更新<code>token</code>串。</p><h2 id="设置travis-cli" tabindex="-1">设置travis cli <a class="header-anchor" href="#设置travis-cli" aria-hidden="true">#</a></h2><p>用<code>github</code>账户登录<a href="https://travis-ci.org/" target="_blank" rel="noreferrer">travis-ci</a></p><ul><li>开启自动部署的项目</li></ul><p><a href="https://imgchr.com/i/1hGp4S" target="_blank" rel="noreferrer"><img src="https://s2.ax1x.com/2020/02/09/1hGp4S.md.jpg" alt="1hGp4S.md.jpg"></a></p><ul><li>设置变量<code>GITHUB_TOKEN</code></li></ul><p><a href="https://imgchr.com/i/1hGVH0" target="_blank" rel="noreferrer"><img src="https://s2.ax1x.com/2020/02/09/1hGVH0.md.jpg" alt="1hGVH0.md.jpg"></a></p><p><code>ADD</code>后可以直接尝试修改项目代码后查看部署信息 <a href="https://imgchr.com/i/1hGmNT" target="_blank" rel="noreferrer"><img src="https://s2.ax1x.com/2020/02/09/1hGmNT.md.png" alt="1hGmNT.md.png"></a></p><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-hidden="true">#</a></h2><p>通过这次项目部署学习到了怎么使用<code>travis</code>来持续集成<code>github</code>项目，学习阮一峰大神的<a href="http://www.ruanyifeng.com/blog/2017/12/travis_ci_tutorial.html" target="_blank" rel="noreferrer">持续集成服务 Travis CI 教程</a>了解来部分<code>travis</code>配置；最后推荐下我的这次部署的项目，前端开发工作中遇到的命令：<a href="https://github.com/imondo/fe-dev-command" target="_blank" rel="noreferrer">fe-dev-command</a></p>`,24),p=[t];function c(l,o,i,h,d,g){return s(),a("div",null,p)}const u=e(n,[["render",c]]);export{m as __pageData,u as default};
