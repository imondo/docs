import{_ as s,c as a,o as n,a as l}from"./app.22aa63b3.js";const i=JSON.parse('{"title":"列的属性","description":"","frontmatter":{},"headers":[],"relativePath":"series/05_MySQL/03_列的属性.md","lastUpdated":1672301390000}'),p={name:"series/05_MySQL/03_列的属性.md"},o=l(`<h1 id="列的属性" tabindex="-1">列的属性 <a class="header-anchor" href="#列的属性" aria-hidden="true">#</a></h1><h2 id="简单的查询" tabindex="-1">简单的查询 <a class="header-anchor" href="#简单的查询" aria-hidden="true">#</a></h2><p>查询语句</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">select</span><span style="color:#A6ACCD;"> * from 表名</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="简单的插入" tabindex="-1">简单的插入 <a class="header-anchor" href="#简单的插入" aria-hidden="true">#</a></h2><p>插入数据以行为单位</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">INSERT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INTO</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">表名</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">列1,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">列2,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VALUES</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">列1的值，列2的值,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>也可只指定部分列的值，不过其他列默认值为 <strong>null</strong></p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">INSERT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INTO</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">表名</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">列1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VALUES</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">列1的值</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><h2 id="批量插入" tabindex="-1">批量插入 <a class="header-anchor" href="#批量插入" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">INSERT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INTO</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">表名</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">列1,列2,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VAULES</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">列1的值，列2的值,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">列1的值，列2的值,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">列1的值，列2的值,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">, </span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="属性" tabindex="-1">属性 <a class="header-anchor" href="#属性" aria-hidden="true">#</a></h2><h3 id="默认值" tabindex="-1">默认值 <a class="header-anchor" href="#默认值" aria-hidden="true">#</a></h3><p>当插入数据时没有定义默认值，则所有默认值都为 NULL；而不想默认值为 NULL 时，可以给列增加 <code>DEFAULT</code> 属性</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">列名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">列的类型</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">默认值</span></span>
<span class="line"></span></code></pre></div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">mysql&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test_table</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">varchar</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">age</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#FFCB6B;">Query</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">OK,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">affected</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0.72</span><span style="color:#A6ACCD;"> sec</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><p>然后插入一条数据</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">insert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">into</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test_table</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">values</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Mondo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>插入数据并没有设置 <code>age</code> 列的值，查看 <code>test_table</code> 表数据，可以看出默认值变成了 <code>18</code></p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">mysql&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test_table</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#FFCB6B;">+-------+------+</span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">name</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">age</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#FFCB6B;">+-------+------+</span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Mondo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">18</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#FFCB6B;">+-------+------+</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> row </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> set </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0.00</span><span style="color:#A6ACCD;"> sec</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">mysql&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="not-null-属性" tabindex="-1">NOT NULL 属性 <a class="header-anchor" href="#not-null-属性" aria-hidden="true">#</a></h3><p>设置列 NOT NULL 属性可以让列不能设置 <code>NULL</code> 值</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">mysql&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test_table</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">varchar</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">not</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">null,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">age</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#FFCB6B;">Query</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">OK,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">affected</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0.71</span><span style="color:#A6ACCD;"> sec</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><p>这样 <code>name</code> 值不能被设置默认值 NULL</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">mysql&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">insert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">into</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test_table</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">age</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">values</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#FFCB6B;">ERROR</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1364</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">HY000</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">: </span><span style="color:#C3E88D;">Field</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">doesn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">t have a default value</span></span>
<span class="line"><span style="color:#C3E88D;">mysql&gt;</span></span>
<span class="line"></span></code></pre></div><p>可以看到没有设置默认值，就会报错</p><h3 id="主键" tabindex="-1">主键 <a class="header-anchor" href="#主键" aria-hidden="true">#</a></h3><p>候选键：通过表中的某一列或某些列确认一条记录，那么这个列或这些列叫做候选键</p><p>比如 <code>stundet_info</code> 表中可以根据<strong>学号</strong>来确认某个学生的唯一记录，或者 <code>student_score</code> 根据 <strong>学号</strong>和 <strong>科目</strong>来确认唯一的成绩记录，所以学号和科目这个组合就是学生成绩表的<strong>候选键</strong></p><p>一张表可以存在多个候选键，选择其中一个作为表的<strong>主键</strong>。</p><ul><li>一张表只存在一个主键</li><li>主键值不可重复，是唯一值</li><li>默认 NOT NULL 属性，必填</li></ul><h4 id="声明方法" tabindex="-1">声明方法 <a class="header-anchor" href="#声明方法" aria-hidden="true">#</a></h4><ul><li>如果是单个列设为主键，可以直接在列后定义 <code>primary key</code></li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TABLE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">student_info</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PRIMARY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">sex</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ENUM</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">男</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">女</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">id_number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">department</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">major</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">enrollment_time</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DATE</span></span>
<span class="line"><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><ul><li>也可以单独定义</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">PRIMARY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">列名1,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">列名2,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TABLE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">student_info</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INT,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">sex</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ENUM</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">男</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">女</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">id_number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">department</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">major</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">enrollment_time</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DATE,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">PRIMARY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>对于多个列组合为主键的情况下，只能使用单独定义</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TABLE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">student_score</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INT,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">subject</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">score</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TINYINT,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">PRIMARY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">number,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">subject</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><h3 id="unique-属性" tabindex="-1">UNIQUE 属性 <a class="header-anchor" href="#unique-属性" aria-hidden="true">#</a></h3><p>对于不是主键的其他候选键，也可以添加约束属性，添加方式和 <code>primary key</code> 类似</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TABLE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">student_info</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PRIMARY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">sex</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ENUM</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">男</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">女</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">id_number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">UNIQUE,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">department</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">major</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">enrollment_time</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DATE</span></span>
<span class="line"><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>多个键名必须单独声明</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TABLE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">student_info</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INT,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">sex</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ENUM</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">男</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">女</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">id_number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">department</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">major</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">enrollment_time</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DATE,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">PRIMARY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">UNIQUE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">id_number</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><h3 id="主键与-unique-区别" tabindex="-1">主键与 UNIQUE 区别 <a class="header-anchor" href="#主键与-unique-区别" aria-hidden="true">#</a></h3><ul><li>一张表只能出现唯一主键，但可以出现多个 UNIQUE 约束</li><li>主键列不能存储 NULL 值，UNIQUE 约束可以存放 NULL 值</li></ul><h3 id="外键" tabindex="-1">外键 <a class="header-anchor" href="#外键" aria-hidden="true">#</a></h3><p>如果A表中的某个列或者某些列依赖与B表中的某个列或者某些列，那么就称A表为<strong>子表</strong>，B表为<strong>父表</strong>。子表和父表可以使用外键来关联起来。上边例子中 <code>student_score</code> 表的 <code>number</code> 列依赖于 <code>student_info</code> 的 <code>number</code> 列，所以 <code>student_info</code> 就是一个父表，<code>student_score</code> 就是子表。我们可以在 <code>student_score</code> 的建表语句中来定义一个外键</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TABLE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">student_score</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INT,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">subject</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">score</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TINYINT,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">PRIMARY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">number,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">subject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">CONSTRAINT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">FOREIGN</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">REFERENCES</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">student_info</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>这样，在对 <code>student_score</code> 表插入数据的时候，MySQL 都会为我们检查一下插入的学号是否能在 <code>student_info</code> 表中找到，如果找不到则会报错</p><h3 id="auto-increment属性" tabindex="-1">AUTO_INCREMENT属性 <a class="header-anchor" href="#auto-increment属性" aria-hidden="true">#</a></h3><p>简称自增，如果把一个列是类型是整数类型或浮点数类型，这个列就可以设置 AUTO_INCERMENT 属性；当我们设置该属性后，插入记录时，没有指定该列的值时，或者将该列的值显式地指定为 NULL 或者 0，那么新插入的记录在该列上的值就是当前该列的最大值加 1 后的值</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">mysql&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TABLE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">first_table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">-&gt;</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">id</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">UNSIGNED</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">AUTO_INCREMENT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PRIMARY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">-&gt;</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">first_column</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INT,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">-&gt;</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">second_column</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#FFCB6B;">Query</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">OK,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">affected</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0.01</span><span style="color:#A6ACCD;"> sec</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">mysql&gt;</span></span>
<span class="line"></span></code></pre></div><p>定义列自增属性时，需要注意：</p><ul><li>一张表最多只能设置一个自增属性列</li><li>具有 AUTO_INCREMENT 属性的列必须建立索引。主键和具有 UNIQUE 属性的列会自动建立索引。</li><li>拥有 AUTO_INCREMENT 属性的列就不能再通过指定 DEFAULT 属性来指定默认值。</li><li>一般拥有 AUTO_INCREMENT 属性的列都是作为主键的属性，来自动生成唯一标识一条记录的主键值。</li></ul><h3 id="列的注释" tabindex="-1">列的注释 <a class="header-anchor" href="#列的注释" aria-hidden="true">#</a></h3><p>在建表语句的末尾可以添加 COMMENT 语句来给表添加注释，其实我们也可以在每一个列末尾添加 COMMENT 语句来为列来添加注释</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TABLE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">first_table</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">id</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">UNSIGNED</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">AUTO_INCREMENT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PRIMARY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">COMMENT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">自增主键</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">first_column</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">COMMENT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">第一列</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">second_column</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VARCHAR</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">COMMENT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">第二列</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">COMMENT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">第一个表</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="标识符的命名" tabindex="-1">标识符的命名 <a class="header-anchor" href="#标识符的命名" aria-hidden="true">#</a></h2><p>像数据库名、表名、列名、约束名称或者我们之后会遇到的别的名称，这些名称统统被称为<strong>标识符</strong>。</p><ul><li>名称不能是数字，数据库自己使用数字，不能有效的查询到</li><li>名称中不能有空白符，如果存在会被当做两个词处理，造成歧义</li><li>名称中不能使用 MySQL 保留字</li></ul><p>但是如果你坚持要使用有歧义的名词，可以使用反引号 \`\`\`\` 来将定义的名称扩起来，这样 MySQL 的服务器就能检测到你提供的是一个名称而不是别的什么东西</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TABLE</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">first_table</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">id</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">UNSIGNED</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">AUTO_INCREMENT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PRIMARY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">first_column</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">INT,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">second_column</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">VARCHAR(100</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">);</span></span>
<span class="line"></span></code></pre></div>`,63),e=[o];function c(t,r,C,y,D,A){return n(),a("div",null,e)}const E=s(p,[["render",c]]);export{i as __pageData,E as default};
